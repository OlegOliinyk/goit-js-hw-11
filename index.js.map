{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function fetchPhotosByQuery(url) {\n  return fetch(url).then(response => {\n    if (!response.ok) throw new Error(response.status);\n    return response.json();\n  });\n}\n","export function createGalleryCardTemplate(data) {\n  return data\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `\n    <li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img\n        width = \"360px\"\n        // height = \"240px\"\n          class=\"gallery-image\"\n          src=\"${webformatURL}\"\n          alt=\"${tags}\"\n        />\n      </a>\n      <div class=\"details\">\n        <div><p class=\"details-icon\">‚ù§Ô∏è</p><p>${likes}</p></div>\n        <div><p class=\"details-icon\">üëÅÔ∏è</p><p>${views}</p></div>\n        <div><p class=\"details-icon\">üí¨</p><p>${comments}</p></div>\n        <div><p class=\"details-icon\">‚¨áÔ∏è</p><p>${downloads}</p></div>\n      </div>\n    </li>\n  `;\n      }\n    )\n    .join('');\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { fetchPhotosByQuery } from './js/pixabay-api';\nimport { createGalleryCardTemplate } from './js/render-functions';\n\nlet userQuery = '';\nconst apiKey = '48282955-b9198e6094f2e0ac61d0770f4';\n\nconst galleryFromPixabay = document.querySelector('.gallery-from-pixabay');\n\nconst inputSubmitHandler = event => {\n  event.preventDefault();\n  userQuery = document.querySelector('.input-user-search');\n  if (!userQuery.value.trim()) {\n    iziToast.error({\n      title: '‚ùå',\n      message: `The field must be filled!`,\n      position: 'topRight',\n      progressBar: true,\n      close: false,\n      icon: false,\n      timeout: 3000,\n    });\n    return;\n  }\n\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${userQuery.value}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  let loader = document.querySelector('.loader');\n\n  galleryFromPixabay.innerHTML = '';\n\n  loader.style.display = 'block';\n\n  fetchPhotosByQuery(url)\n    .then(data => {\n      loader.style.display = 'none';\n      if (data.total === 0) {\n        iziToast.error({\n          title: '‚ùå',\n          message: `Sorry, there are no images matching your search query. Please try again!`,\n          position: 'topRight',\n          progressBar: true,\n          close: false,\n          icon: false,\n          timeout: 3000,\n        });\n      }\n\n      const galleryTemplate = createGalleryCardTemplate(data.hits);\n      galleryFromPixabay.innerHTML = galleryTemplate;\n\n      new SimpleLightbox('.gallery-link', {\n        captions: false,\n        captionDelay: 250,\n        widthRatio: 0.8,\n        heightRatio: 0.8,\n      });\n    })\n    .catch(error => console.log(error));\n\n  userQuery.value = '';\n};\n\nconst inputUserQuery = document.querySelector('.button-user-search');\ninputUserQuery.addEventListener('click', inputSubmitHandler);\n"],"names":["fetchPhotosByQuery","url","response","createGalleryCardTemplate","data","webformatURL","largeImageURL","tags","likes","views","comments","downloads","userQuery","apiKey","galleryFromPixabay","inputSubmitHandler","event","iziToast","loader","galleryTemplate","SimpleLightbox","error","inputUserQuery"],"mappings":"6vBAAO,SAASA,EAAmBC,EAAK,CACtC,OAAO,MAAMA,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GAAI,MAAM,IAAI,MAAMA,EAAS,MAAM,EACjD,OAAOA,EAAS,MACpB,CAAG,CACH,CCLO,SAASC,EAA0BC,EAAM,CAC9C,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA;AAAA,sCAEuBL,CAAa;AAAA;AAAA;AAAA;AAAA;AAAA,iBAKlCD,CAAY;AAAA,iBACZE,CAAI;AAAA;AAAA;AAAA;AAAA,gDAI2BC,CAAK;AAAA,iDACJC,CAAK;AAAA,gDACNC,CAAQ;AAAA,gDACRC,CAAS;AAAA;AAAA;AAAA,GAKpD,EACA,KAAK,EAAE,CACZ,CCzBA,IAAIC,EAAY,GAChB,MAAMC,EAAS,qCAETC,EAAqB,SAAS,cAAc,uBAAuB,EAEnEC,EAAqBC,GAAS,CAGlC,GAFAA,EAAM,eAAc,EACpBJ,EAAY,SAAS,cAAc,oBAAoB,EACnD,CAACA,EAAU,MAAM,OAAQ,CAC3BK,EAAS,MAAM,CACb,MAAO,IACP,QAAS,4BACT,SAAU,WACV,YAAa,GACb,MAAO,GACP,KAAM,GACN,QAAS,GACf,CAAK,EACD,MACD,CAED,MAAMhB,EAAM,gCAAgCY,CAAM,MAAMD,EAAU,KAAK,2DAEvE,IAAIM,EAAS,SAAS,cAAc,SAAS,EAE7CJ,EAAmB,UAAY,GAE/BI,EAAO,MAAM,QAAU,QAEvBlB,EAAmBC,CAAG,EACnB,KAAKG,GAAQ,CACZc,EAAO,MAAM,QAAU,OACnBd,EAAK,QAAU,GACjBa,EAAS,MAAM,CACb,MAAO,IACP,QAAS,2EACT,SAAU,WACV,YAAa,GACb,MAAO,GACP,KAAM,GACN,QAAS,GACnB,CAAS,EAGH,MAAME,EAAkBhB,EAA0BC,EAAK,IAAI,EAC3DU,EAAmB,UAAYK,EAE/B,IAAIC,EAAe,gBAAiB,CAClC,SAAU,GACV,aAAc,IACd,WAAY,GACZ,YAAa,EACrB,CAAO,CACP,CAAK,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,EAEpCT,EAAU,MAAQ,EACpB,EAEMU,EAAiB,SAAS,cAAc,qBAAqB,EACnEA,EAAe,iBAAiB,QAASP,CAAkB"}