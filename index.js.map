{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function fetchPhotosByQuery(userQuery) {\n  const searchParams = new URLSearchParams({\n    key: '48282955-b9198e6094f2e0ac61d0770f4',\n    q: userQuery,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  // const url = `https://pixabay.com/api/?key=${apiKey}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  return fetch(`https://pixabay.com/api/?${searchParams.toString()}`).then(\n    response => {\n      if (!response.ok) throw new Error(response.status);\n      return response.json();\n    }\n  );\n}\n","export function createGalleryCardTemplate(data) {\n  return data\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `\n    <li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img\n        width = \"360px\"\n        // height = \"240px\"\n          class=\"gallery-image\"\n          src=\"${webformatURL}\"\n          alt=\"${tags}\"\n        />\n      </a>\n      <div class=\"details\">\n        <div><p class=\"details-icon\">‚ù§Ô∏è</p><p>${likes}</p></div>\n        <div><p class=\"details-icon\">üëÅÔ∏è</p><p>${views}</p></div>\n        <div><p class=\"details-icon\">üí¨</p><p>${comments}</p></div>\n        <div><p class=\"details-icon\">‚¨áÔ∏è</p><p>${downloads}</p></div>\n      </div>\n    </li>\n  `;\n      }\n    )\n    .join('');\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { fetchPhotosByQuery } from './js/pixabay-api';\nimport { createGalleryCardTemplate } from './js/render-functions';\n\nconst galleryFromPixabay = document.querySelector('.gallery-from-pixabay');\nconst userSearchForm = document.querySelector('.user-search');\nlet loader = document.querySelector('.loader');\n\nconst inputSubmitHandler = event => {\n  event.preventDefault();\n\n  const userQuery = document.querySelector('.input-user-search').value.trim();\n  if (!userQuery) {\n    iziToast.error({\n      title: '‚ùå',\n      message: `The field must be filled!`,\n      position: 'topRight',\n      progressBar: true,\n      close: false,\n      icon: false,\n      timeout: 3000,\n    });\n    userSearchForm.reset();\n    return;\n  }\n\n  galleryFromPixabay.innerHTML = '';\n\n  loader.style.display = 'block';\n\n  fetchPhotosByQuery(userQuery)\n    .then(data => {\n      loader.style.display = 'none';\n      if (data.total === 0) {\n        iziToast.error({\n          title: '‚ùå',\n          message: `Sorry, there are no images matching your search query. Please try again!`,\n          position: 'topRight',\n          progressBar: true,\n          close: false,\n          icon: false,\n          timeout: 3000,\n        });\n      }\n\n      const galleryTemplate = createGalleryCardTemplate(data.hits);\n      galleryFromPixabay.innerHTML = galleryTemplate;\n\n      new SimpleLightbox('.gallery-link', {\n        captions: false,\n        captionDelay: 250,\n        widthRatio: 0.8,\n        heightRatio: 0.8,\n      });\n    })\n    .catch(error => {\n      loader.style.display = 'none';\n      iziToast.error({\n        title: '‚ùå',\n        message: error.toString(),\n        position: 'topRight',\n        progressBar: true,\n        close: false,\n        icon: false,\n        timeout: 3000,\n      });\n    });\n\n  userSearchForm.reset();\n};\n\nconst inputUserQuery = document.querySelector('.user-search');\ninputUserQuery.addEventListener('submit', inputSubmitHandler);\n"],"names":["fetchPhotosByQuery","userQuery","searchParams","response","createGalleryCardTemplate","data","webformatURL","largeImageURL","tags","likes","views","comments","downloads","galleryFromPixabay","userSearchForm","loader","inputSubmitHandler","event","iziToast","galleryTemplate","SimpleLightbox","error","inputUserQuery"],"mappings":"6vBAAO,SAASA,EAAmBC,EAAW,CAC5C,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAID,OAAO,MAAM,4BAA4BC,EAAa,SAAU,CAAA,EAAE,EAAE,KAClEC,GAAY,CACV,GAAI,CAACA,EAAS,GAAI,MAAM,IAAI,MAAMA,EAAS,MAAM,EACjD,OAAOA,EAAS,MACjB,CACL,CACA,CCjBO,SAASC,EAA0BC,EAAM,CAC9C,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA;AAAA,sCAEuBL,CAAa;AAAA;AAAA;AAAA;AAAA;AAAA,iBAKlCD,CAAY;AAAA,iBACZE,CAAI;AAAA;AAAA;AAAA;AAAA,gDAI2BC,CAAK;AAAA,iDACJC,CAAK;AAAA,gDACNC,CAAQ;AAAA,gDACRC,CAAS;AAAA;AAAA;AAAA,GAKpD,EACA,KAAK,EAAE,CACZ,CCzBA,MAAMC,EAAqB,SAAS,cAAc,uBAAuB,EACnEC,EAAiB,SAAS,cAAc,cAAc,EAC5D,IAAIC,EAAS,SAAS,cAAc,SAAS,EAE7C,MAAMC,EAAqBC,GAAS,CAClCA,EAAM,eAAc,EAEpB,MAAMhB,EAAY,SAAS,cAAc,oBAAoB,EAAE,MAAM,OACrE,GAAI,CAACA,EAAW,CACdiB,EAAS,MAAM,CACb,MAAO,IACP,QAAS,4BACT,SAAU,WACV,YAAa,GACb,MAAO,GACP,KAAM,GACN,QAAS,GACf,CAAK,EACDJ,EAAe,MAAK,EACpB,MACD,CAEDD,EAAmB,UAAY,GAE/BE,EAAO,MAAM,QAAU,QAEvBf,EAAmBC,CAAS,EACzB,KAAKI,GAAQ,CACZU,EAAO,MAAM,QAAU,OACnBV,EAAK,QAAU,GACjBa,EAAS,MAAM,CACb,MAAO,IACP,QAAS,2EACT,SAAU,WACV,YAAa,GACb,MAAO,GACP,KAAM,GACN,QAAS,GACnB,CAAS,EAGH,MAAMC,EAAkBf,EAA0BC,EAAK,IAAI,EAC3DQ,EAAmB,UAAYM,EAE/B,IAAIC,EAAe,gBAAiB,CAClC,SAAU,GACV,aAAc,IACd,WAAY,GACZ,YAAa,EACrB,CAAO,CACP,CAAK,EACA,MAAMC,GAAS,CACdN,EAAO,MAAM,QAAU,OACvBG,EAAS,MAAM,CACb,MAAO,IACP,QAASG,EAAM,SAAU,EACzB,SAAU,WACV,YAAa,GACb,MAAO,GACP,KAAM,GACN,QAAS,GACjB,CAAO,CACP,CAAK,EAEHP,EAAe,MAAK,CACtB,EAEMQ,EAAiB,SAAS,cAAc,cAAc,EAC5DA,EAAe,iBAAiB,SAAUN,CAAkB"}